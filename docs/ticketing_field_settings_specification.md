# Ticketing Field Settings Specification

این فایل شامل مشخصات کامل تنظیمات برای هر نوع فیلد در Ticket Template است.

---

## لیست انواع فیلدها

1. **short_text** - متن کوتاه
2. **long_text** - متن بلند
3. **rich_text** - متن غنی (ویرایشگر WYSIWYG)
4. **radio** - دکمه رادیویی
5. **dropdown** - لیست کشویی
6. **checkbox** - چک‌باکس
7. **file_upload** - آپلود فایل
8. **reference** - فیلد مرجع (Entity Reference)
9. **date** - تاریخ
10. **time** - ساعت
11. **datetime** - تاریخ و ساعت
12. **number** - عدد
13. **email** - ایمیل
14. **url** - لینک
15. **phone** - تلفن
16. **multi_select** - انتخاب چندتایی
17. **tags** - برچسب‌ها
18. **color** - رنگ
19. **rating** - امتیازدهی
20. **slider** - اسلایدر
21. **currency** - ارز/پول
22. **signature** - امضا
23. **location** - موقعیت جغرافیایی
24. **section** - بخش (برای جدا کردن فیلدها)
25. **calculation** - محاسباتی

---

## تنظیمات هر نوع فیلد

> **نکته**: هر تنظیم که اضافه می‌شود، باید در اینجا ثبت شود.
> پس از تکمیل تمام تنظیمات، پیاده‌سازی UI و backend انجام می‌شود.

### 1. short_text (متن کوتاه)

**تنظیمات مورد نیاز:**
- فقط یک فیلد متنی ساده نمایش داده می‌شود
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text و default_value)

**UI:**
- فقط یک `<input type="text">` یا `<textarea>` ساده

---

### 2. long_text (متن بلند)

**تنظیمات مورد نیاز:**
- فقط یک فیلد متنی چندخطی نمایش داده می‌شود
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text و default_value)

**UI:**
- فقط یک `<textarea>` با چند ردیف

---

### 3. rich_text (متن غنی)

**تنظیمات مورد نیاز:**
- فقط یک ویرایشگر WYSIWYG (ویرایشگر متن غنی)
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text و default_value)

**UI:**
- یک ویرایشگر متن غنی (مثل TinyMCE یا CKEditor)

---

### 4. radio (دکمه رادیویی)

**تنظیمات مورد نیاز:**
- **نوع منبع گزینه‌ها**: انتخاب بین دو حالت:
  - **دستی (Manual)**: گزینه‌ها به صورت دستی اضافه می‌شوند
  - **از Entity Reference (Dynamic)**: گزینه‌ها از بخش دیگری از برنامه لود می‌شوند

**در صورت انتخاب "دستی":**
- جدول/فرم مدیریت Options برای اضافه کردن گزینه‌ها
- برای هر گزینه:
  - `option_value` (مقدار ذخیره شده)
  - `option_label` (متن نمایشی)
  - `option_order` (ترتیب نمایش)
  - `is_default` (گزینه پیش‌فرض)

**در صورت انتخاب "از Entity Reference":**
- فیلد انتخاب منبع: یک فیلد برای وارد کردن Entity Reference (مثلاً: `users:list`, `inventory.items:list`, `inventory.warehouses:list`)
- سیستم به صورت خودکار لیست گزینه‌ها را از آن منبع می‌گیرد
- باید مشخص شود که از کدام فیلد به عنوان `value` و کدام به عنوان `label` استفاده شود

**UI:**
- رادیو دکمه‌ها به صورت عمودی یا افقی نمایش داده می‌شوند

---

### 5. dropdown (لیست کشویی)

**تنظیمات مورد نیاز:**
- **نوع منبع گزینه‌ها**: انتخاب بین دو حالت:
  - **دستی (Manual)**: گزینه‌ها به صورت دستی اضافه می‌شوند
  - **از Entity Reference (Dynamic)**: گزینه‌ها از بخش دیگری از برنامه لود می‌شوند

**در صورت انتخاب "دستی":**
- جدول/فرم مدیریت Options برای اضافه کردن گزینه‌ها
- برای هر گزینه:
  - `option_value` (مقدار ذخیره شده)
  - `option_label` (متن نمایشی)
  - `option_order` (ترتیب نمایش)
  - `is_default` (گزینه پیش‌فرض)

**در صورت انتخاب "از Entity Reference":**
- فیلد انتخاب منبع: یک فیلد برای وارد کردن Entity Reference (مثلاً: `users:list`, `inventory.items:list`, `inventory.warehouses:list`)
- سیستم به صورت خودکار لیست گزینه‌ها را از آن منبع می‌گیرد
- باید مشخص شود که از کدام فیلد به عنوان `value` و کدام به عنوان `label` استفاده شود

**UI:**
- یک `<select>` dropdown

---

### 6. checkbox (چک‌باکس)

**تنظیمات مورد نیاز:**
- **نوع منبع گزینه‌ها**: انتخاب بین دو حالت:
  - **دستی (Manual)**: گزینه‌ها به صورت دستی اضافه می‌شوند
  - **از Entity Reference (Dynamic)**: گزینه‌ها از بخش دیگری از برنامه لود می‌شوند

**در صورت انتخاب "دستی":**
- جدول/فرم مدیریت Options برای اضافه کردن گزینه‌ها
- برای هر گزینه:
  - `option_value` (مقدار ذخیره شده)
  - `option_label` (متن نمایشی)
  - `option_order` (ترتیب نمایش)
  - `is_default` (گزینه پیش‌فرض - اگر چک شده باشد)

**در صورت انتخاب "از Entity Reference":**
- فیلد انتخاب منبع: یک فیلد برای وارد کردن Entity Reference (مثلاً: `users:list`, `inventory.items:list`, `inventory.warehouses:list`)
- سیستم به صورت خودکار لیست گزینه‌ها را از آن منبع می‌گیرد
- باید مشخص شود که از کدام فیلد به عنوان `value` و کدام به عنوان `label` استفاده شود

**UI:**
- چک‌باکس‌ها به صورت عمودی یا افقی نمایش داده می‌شوند

---

### 7. file_upload (آپلود فایل)

**تنظیمات مورد نیاز:**
- فقط یک فیلد آپلود فایل ساده
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text و default_value)

**UI:**
- یک `<input type="file">` برای آپلود فایل

---

### 8. reference (فیلد مرجع)

**وضعیت:**
- این فیلد به دلیل اینکه در بخش‌های دیگر (مثلاً dropdown با Entity Reference) پشتیبانی می‌شود، نیازی به فیلد جداگانه ندارد.
- می‌توان از dropdown/multi_select با Entity Reference استفاده کرد.

---

### 9. date (تاریخ)

**تنظیمات مورد نیاز:**
- **Auto-fill with current date**: چک‌باکس برای اینکه آیا به صورت خودکار با تاریخ امروز پر شود یا نه
  - اگر فعال باشد: هنگام ایجاد ticket، فیلد تاریخ با تاریخ امروز پر می‌شود
  - اگر غیرفعال باشد: کاربر باید تاریخ را به صورت دستی وارد کند

**UI:**
- یک date picker (انتخابگر تاریخ)

---

### 10. time (ساعت)

**تنظیمات مورد نیاز:**
- **Auto-fill with current time**: چک‌باکس برای اینکه آیا به صورت خودکار با ساعت فعلی پر شود یا نه
  - اگر فعال باشد: هنگام ایجاد ticket، فیلد ساعت با ساعت فعلی پر می‌شود
  - اگر غیرفعال باشد: کاربر باید ساعت را به صورت دستی وارد کند

**UI:**
- یک time picker (انتخابگر ساعت)

---

### 11. datetime (تاریخ و ساعت)

**تنظیمات مورد نیاز:**
- **Auto-fill with current datetime**: چک‌باکس برای اینکه آیا به صورت خودکار با تاریخ و ساعت فعلی پر شود یا نه
  - اگر فعال باشد: هنگام ایجاد ticket، فیلد تاریخ و ساعت با تاریخ و ساعت فعلی پر می‌شود
  - اگر غیرفعال باشد: کاربر باید تاریخ و ساعت را به صورت دستی وارد کند

**UI:**
- یک datetime picker (انتخابگر تاریخ و ساعت)

---

### 12. number (عدد)

**تنظیمات مورد نیاز:**
- **Thousands separator**: چک‌باکس برای اینکه آیا اعداد به صورت 3 رقم 3 رقم جدا شوند یا نه (مثلاً 1,000,000 یا 1000000)
  - اگر فعال باشد: هنگام نمایش، اعداد با جداکننده هزارگان نمایش داده می‌شوند
- **Only accept numbers**: به صورت پیش‌فرض فقط عدد می‌پذیرد (غیرقابل تغییر)

**UI:**
- یک `<input type="number">` که فقط عدد می‌پذیرد

---

### 13. email (ایمیل)

**تنظیمات مورد نیاز:**
- فقط یک فیلد ایمیل با اعتبارسنجی خودکار
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text و default_value)

**UI:**
- یک `<input type="email">` که اعتبارسنجی ایمیل را به صورت خودکار انجام می‌دهد

---

### 14. url (لینک)

**تنظیمات مورد نیاز:**
- فقط یک فیلد URL با اعتبارسنجی خودکار
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text و default_value)

**UI:**
- یک `<input type="url">` که اعتبارسنجی URL را به صورت خودکار انجام می‌دهد

---

### 15. phone (تلفن)

**تنظیمات مورد نیاز:**
- فقط یک فیلد تلفن
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text و default_value)

**UI:**
- یک `<input type="tel">` برای وارد کردن شماره تلفن

---

### 16. multi_select (انتخاب چندتایی)

**تنظیمات مورد نیاز:**
- **نوع منبع گزینه‌ها**: انتخاب بین دو حالت:
  - **دستی (Manual)**: گزینه‌ها به صورت دستی اضافه می‌شوند
  - **از Entity Reference (Dynamic)**: گزینه‌ها از بخش دیگری از برنامه لود می‌شوند

**در صورت انتخاب "دستی":**
- جدول/فرم مدیریت Options برای اضافه کردن گزینه‌ها
- برای هر گزینه:
  - `option_value` (مقدار ذخیره شده)
  - `option_label` (متن نمایشی)
  - `option_order` (ترتیب نمایش)
  - `is_default` (گزینه پیش‌فرض - اگر انتخاب شده باشد)

**در صورت انتخاب "از Entity Reference":**
- فیلد انتخاب منبع: یک فیلد برای وارد کردن Entity Reference (مثلاً: `users:list`, `inventory.items:list`, `inventory.warehouses:list`)
- سیستم به صورت خودکار لیست گزینه‌ها را از آن منبع می‌گیرد
- باید مشخص شود که از کدام فیلد به عنوان `value` و کدام به عنوان `label` استفاده شود

**UI:**
- یک `<select multiple>` یا لیست checkbox‌ها برای انتخاب چندتایی

---

### 17. tags (برچسب‌ها)

**تنظیمات مورد نیاز:**
- فقط یک فیلد برای وارد کردن تگ‌ها (autocomplete/چندتایی)
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text و default_value)

**UI:**
- یک فیلد با autocomplete برای وارد کردن تگ‌ها (ممکن است چندتایی باشد)

---

### 18. color (رنگ)

**تنظیمات مورد نیاز:**
- فقط یک color picker (انتخابگر رنگ)
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text و default_value)

**UI:**
- یک `<input type="color">` برای انتخاب رنگ

---

### 19. rating (امتیازدهی)

**تنظیمات مورد نیاز:**
- **Minimum rating**: حداقل امتیاز (مثلاً 1)
- **Maximum rating**: حداکثر امتیاز (مثلاً 5 یا 10)
- بازه امتیاز باید تعریف شود

**UI:**
- نمایش ستاره‌ها یا اعداد بر اساس بازه تعیین شده (مثلاً 5 ستاره یا 10 ستاره)

---

### 20. slider (اسلایدر)

**تنظیمات مورد نیاز:**
- **Minimum value**: حداقل مقدار اسلایدر (مثلاً 0)
- **Maximum value**: حداکثر مقدار اسلایدر (مثلاً 100)
- **Step**: فاصله بین مقادیر (مثلاً 1 یا 5)

**UI:**
- یک range slider که بین min و max می‌تواند تغییر کند

---

### 21. currency (ارز/پول)

**تنظیمات مورد نیاز:**
- فقط یک فیلد عددی برای مبلغ پولی
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text و default_value)

**UI:**
- یک فیلد عددی با فرمت پولی (ممکن است با جداکننده هزارگان نمایش داده شود)

---

### 22. signature (امضا)

**تنظیمات مورد نیاز:**
- فقط یک فیلد امضا (canvas برای امضای دیجیتال)
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text)

**UI:**
- یک canvas برای امضای دیجیتال

---

### 23. location (موقعیت جغرافیایی)

**تنظیمات مورد نیاز:**
- فقط یک فیلد موقعیت جغرافیایی
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text و default_value)

**UI:**
- یک فیلد برای وارد کردن مختصات جغرافیایی یا استفاده از نقشه

---

### 24. section (بخش)

**تنظیمات مورد نیاز:**
- فقط یک عنوان/هدر برای جدا کردن و گروه‌بندی فیلدهای دیگر
- تنظیمات خاصی ندارد (تنظیمات عمومی مثل help_text - برای عنوان بخش)

**UI:**
- یک عنوان/هدر که فیلدهای بعدی را در یک گروه قرار می‌دهد (ممکن است با خط جداکننده باشد)

---

### 25. calculation (محاسباتی)

**تنظیمات مورد نیاز:**
- **Formula/Calculation Rule**: فیلد برای تعریف فرمول یا قواعد محاسبه
  - کاربر باید در بخش تنظیمات مشخص کند که چه چیزی باید محاسبه شود
  - می‌تواند بر اساس فیلدهای دیگر باشد (مثلاً: `{field_key1} + {field_key2}` یا `{field_key1} * {field_key2}`)
  - فرمول با استفاده از `{field_key}` برای اشاره به فیلدهای دیگر نوشته می‌شود
  - پشتیبانی از عملگرهای ریاضی: `+`, `-`, `*`, `/`, `()` برای اولویت

**UI:**
- فیلد محاسباتی که به صورت خودکار مقدار را بر اساس فرمول تعریف شده محاسبه می‌کند
- فقط خواندنی (read-only) برای کاربر نهایی (محاسبه خودکار است)
- مقدار به صورت real-time (زمان واقعی) وقتی فیلدهای وابسته تغییر می‌کنند، محاسبه می‌شود

---

---

## خلاصه تنظیمات

### فیلدهای بدون تنظیمات خاص (تنظیمات عمومی: help_text, default_value, is_required)
- ✅ short_text
- ✅ long_text
- ✅ rich_text
- ✅ email
- ✅ url
- ✅ phone
- ✅ file_upload
- ✅ color
- ✅ currency
- ✅ signature
- ✅ location
- ✅ section
- ⚠️ **calculation**: نیاز به فیلد Formula در تنظیمات

### فیلدهای با تنظیمات خاص

#### فیلدهای انتخاب (Options)
- ✅ **radio**: انتخاب بین دستی یا Entity Reference + مدیریت Options
- ✅ **dropdown**: انتخاب بین دستی یا Entity Reference + مدیریت Options
- ✅ **checkbox**: انتخاب بین دستی یا Entity Reference + مدیریت Options
- ✅ **multi_select**: انتخاب بین دستی یا Entity Reference + مدیریت Options

#### فیلدهای تاریخ و زمان
- ✅ **date**: Auto-fill with current date
- ✅ **time**: Auto-fill with current time
- ✅ **datetime**: Auto-fill with current datetime

#### فیلدهای عددی
- ✅ **number**: Thousands separator (3 رقم 3 رقم جدا کردن)
- ✅ **rating**: Minimum/Maximum rating (بازه امتیاز)
- ✅ **slider**: Minimum/Maximum/Step value

#### فیلد محاسباتی
- ✅ **calculation**: Formula/Calculation Rule (تعریف فرمول برای محاسبه خودکار)

#### سایر
- ℹ️ **reference**: از dropdown/multi_select با Entity Reference استفاده می‌شود (فیلد جداگانه نیاز نیست)
- ✅ **tags**: بدون تنظیم خاص (autocomplete)

---

## یادداشت‌ها

- تنظیمات مشترک برای همه فیلدها: `help_text`, `default_value`, `is_required`
- تنظیمات اختصاصی هر فیلد در بخش مربوطه نوشته می‌شود
- بعد از تکمیل تمام تنظیمات، این فایل به عنوان مرجع برای پیاده‌سازی استفاده می‌شود

---

## وضعیت فایل

✅ **کامل شده** - تمام 25 نوع فیلد مشخص شده و آماده پیاده‌سازی است.

