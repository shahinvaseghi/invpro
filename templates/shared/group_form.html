{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ page_title }} - {{ block.super }}{% endblock %}

{% block extra_css %}
<style>
.checkbox-list ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.checkbox-list li {
  margin-bottom: 8px;
  display: flex;
  align-items: center;
}
.checkbox-list label {
  margin-left: 8px;
  margin-bottom: 0;
  font-weight: normal;
  cursor: pointer;
}
.checkbox-list input[type="checkbox"] {
  margin: 0;
  cursor: pointer;
}
</style>
{% endblock %}

{% block content %}
<div class="inventory-module">
  <div class="module-header">
    <nav class="breadcrumb">
      <a href="{% url 'ui:dashboard' %}">{% trans "Dashboard" %}</a>
      <span>/</span>
      <a href="{% url 'shared:groups' %}">{% trans "Groups" %}</a>
      <span>/</span>
      <span>{{ page_title }}</span>
    </nav>
    <h1 class="page-title">{{ page_title }}</h1>
  </div>

  <form method="post" class="entity-form">
    {% csrf_token %}
    {% if form.non_field_errors %}
      <div class="form-errors">
        {{ form.non_field_errors }}
      </div>
    {% endif %}

    <div class="form-grid">
      {% for field in form %}
        {% if field.name != 'members' %}
        <div class="form-field {% if field.name == 'access_levels' %}form-field-checkboxes{% endif %}">
          <label for="{{ field.id_for_label }}">{{ field.label }}</label>
          {% if field.name == 'access_levels' %}
            <div class="checkbox-list" style="margin-top: 8px;">
              {{ field }}
            </div>
          {% else %}
            {{ field }}
          {% endif %}
          {% if field.help_text %}
            <small class="form-text text-muted">{{ field.help_text }}</small>
          {% endif %}
          {% for error in field.errors %}
            <div class="field-error">{{ error }}</div>
          {% endfor %}
        </div>
        {% endif %}
      {% endfor %}
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary">{% trans "Save" %}</button>
      <a href="{% url 'shared:groups' %}" class="btn btn-secondary">{% trans "Cancel" %}</a>
    </div>
  </form>
</div>
{% endblock %}

