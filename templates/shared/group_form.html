{% extends "shared/generic/generic_form.html" %}
{% load i18n %}

{% block title %}{{ page_title }} - {{ block.super }}{% endblock %}

{% block extra_css %}
<style>
.checkbox-list ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.checkbox-list li {
  margin-bottom: 8px;
  display: flex;
  align-items: center;
}
.checkbox-list label {
  margin-left: 8px;
  margin-bottom: 0;
  font-weight: normal;
  cursor: pointer;
}
.checkbox-list input[type="checkbox"] {
  margin: 0;
  cursor: pointer;
}
</style>
{% endblock %}

{% block breadcrumb_extra %}
<span>/</span>
<a href="{% url 'shared:groups' %}">{% trans "Groups" %}</a>
<span>/</span>
<span>{{ page_title }}</span>
{% endblock %}

{% block form_sections %}
<div class="form-section">
  {% for field in form %}
    {% if field.name != 'members' %}
    <div class="form-field {% if field.name == 'access_levels' %}form-field-checkboxes{% endif %}">
      <label for="{{ field.id_for_label }}">
        {{ field.label }}
        {% if field.field.required %}*{% endif %}
      </label>
      {% if field.name == 'access_levels' %}
        <div class="checkbox-list" style="margin-top: 8px;">
          {{ field }}
        </div>
      {% else %}
        {{ field }}
      {% endif %}
      {% if field.errors %}
        <span class="error">{{ field.errors.0 }}</span>
      {% endif %}
      {% if field.help_text %}
        <small class="form-text">{{ field.help_text }}</small>
      {% endif %}
    </div>
    {% endif %}
  {% endfor %}
</div>
{% endblock %}

{% block form_actions_extra %}
<a href="{% url 'shared:groups' %}" class="btn btn-secondary">{% trans "Cancel" %}</a>
{% endblock %}
