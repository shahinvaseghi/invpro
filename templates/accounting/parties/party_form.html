{% extends "shared/generic/generic_form.html" %}
{% load i18n %}

{% block breadcrumb_extra %}
{% if breadcrumbs %}
  {% for crumb in breadcrumbs %}
    <span class="separator">/</span>
    {% if crumb.url %}
      <a href="{{ crumb.url }}">{{ crumb.label }}</a>
    {% else %}
      <span>{{ crumb.label }}</span>
    {% endif %}
  {% endfor %}
{% else %}
<span class="separator">/</span>
<a href="{% url 'accounting:dashboard' %}">{% trans "حسابداری" %}</a>
<span class="separator">/</span>
<a href="{% url 'accounting:parties' %}">{% trans "طرف حساب‌ها" %}</a>
<span class="separator">/</span>
<span>{{ form_title|default:"ایجاد طرف حساب" }}</span>
{% endif %}
{% endblock %}

{% block form_sections %}
<div class="form-section">
  <h3>{% trans "اطلاعات پایه" %}</h3>
  
  <div class="form-row">
    <div class="form-field">
      <label for="{{ form.party_type.id_for_label }}">
        {{ form.party_type.label }} *
      </label>
      {{ form.party_type }}
      {% if form.party_type.errors %}
        <span class="error">{{ form.party_type.errors.0 }}</span>
      {% endif %}
      {% if form.party_type.help_text %}
        <small class="form-text">{{ form.party_type.help_text }}</small>
      {% endif %}
    </div>
  </div>

  <div class="form-row">
    <div class="form-field">
      <label for="{{ form.party_name.id_for_label }}">
        {{ form.party_name.label }} *
      </label>
      {{ form.party_name }}
      {% if form.party_name.errors %}
        <span class="error">{{ form.party_name.errors.0 }}</span>
      {% endif %}
    </div>
    
    <div class="form-field">
      <label for="{{ form.party_name_en.id_for_label }}">
        {{ form.party_name_en.label }}
      </label>
      {{ form.party_name_en }}
      {% if form.party_name_en.errors %}
        <span class="error">{{ form.party_name_en.errors.0 }}</span>
      {% endif %}
    </div>
  </div>

  <div class="form-row">
    <div class="form-field">
      <label for="{{ form.national_id.id_for_label }}">
        {{ form.national_id.label }}
      </label>
      {{ form.national_id }}
      {% if form.national_id.errors %}
        <span class="error">{{ form.national_id.errors.0 }}</span>
      {% endif %}
    </div>
    
    <div class="form-field">
      <label for="{{ form.tax_id.id_for_label }}">
        {{ form.tax_id.label }}
      </label>
      {{ form.tax_id }}
      {% if form.tax_id.errors %}
        <span class="error">{{ form.tax_id.errors.0 }}</span>
      {% endif %}
    </div>
  </div>
</div>

<div class="form-section">
  <h3>{% trans "اطلاعات تماس" %}</h3>
  
  <div class="form-row">
    <div class="form-field full-width">
      <label for="{{ form.address.id_for_label }}">
        {{ form.address.label }}
      </label>
      {{ form.address }}
      {% if form.address.errors %}
        <span class="error">{{ form.address.errors.0 }}</span>
      {% endif %}
    </div>
  </div>

  <div class="form-row">
    <div class="form-field">
      <label for="{{ form.phone.id_for_label }}">
        {{ form.phone.label }}
      </label>
      {{ form.phone }}
      {% if form.phone.errors %}
        <span class="error">{{ form.phone.errors.0 }}</span>
      {% endif %}
    </div>
    
    <div class="form-field">
      <label for="{{ form.email.id_for_label }}">
        {{ form.email.label }}
      </label>
      {{ form.email }}
      {% if form.email.errors %}
        <span class="error">{{ form.email.errors.0 }}</span>
      {% endif %}
    </div>
  </div>

  <div class="form-row">
    <div class="form-field">
      <label for="{{ form.contact_person.id_for_label }}">
        {{ form.contact_person.label }}
      </label>
      {{ form.contact_person }}
      {% if form.contact_person.errors %}
        <span class="error">{{ form.contact_person.errors.0 }}</span>
      {% endif %}
    </div>
  </div>
</div>

<div class="form-section">
  <h3>{% trans "سایر اطلاعات" %}</h3>
  
  <div class="form-row">
    <div class="form-field full-width">
      <label for="{{ form.notes.id_for_label }}">
        {{ form.notes.label }}
      </label>
      {{ form.notes }}
      {% if form.notes.errors %}
        <span class="error">{{ form.notes.errors.0 }}</span>
      {% endif %}
    </div>
  </div>

  {% if form.is_enabled %}
  <div class="form-row">
    <div class="form-field">
      <label for="{{ form.is_enabled.id_for_label }}">
        {{ form.is_enabled.label }}
      </label>
      {{ form.is_enabled }}
      {% if form.is_enabled.errors %}
        <span class="error">{{ form.is_enabled.errors.0 }}</span>
      {% endif %}
    </div>
  </div>
  {% endif %}
</div>
{% endblock %}

