{% extends "shared/generic/generic_form.html" %}
{% load i18n %}

{% block breadcrumb_extra %}
<span class="separator">/</span>
<span>{% trans "Production" %}</span>
<span class="separator">/</span>
<a href="{% url 'production:work_lines' %}">{% trans "Work Lines" %}</a>
<span class="separator">/</span>
<span>{{ form_title }}</span>
{% endblock %}

{% block before_form %}
{% if form.instance.pk and form.instance.public_code %}
<div class="info-banner">
  <div><strong>{% trans "Code" %}:</strong> <code>{{ form.instance.public_code }}</code></div>
</div>
{% endif %}
{% endblock %}

{% block form_sections %}
<div class="form-section">
  <h2>{% trans "Work Line Information" %}</h2>
  
  {% if form.warehouse %}
  <div class="form-row">
    <div class="form-field">
      <label for="{{ form.warehouse.id_for_label }}">
        {{ form.warehouse.label }}
        {% if form.warehouse.field.required %}*{% endif %}
      </label>
      {{ form.warehouse }}
      {% if form.warehouse.errors %}
        <span class="error">{{ form.warehouse.errors.0 }}</span>
      {% endif %}
      {% if form.warehouse.help_text %}
        <small class="form-text">{{ form.warehouse.help_text }}</small>
      {% endif %}
    </div>
  </div>
  {% endif %}

  <div class="form-row">
    <div class="form-field">
      <label for="{{ form.name.id_for_label }}">
        {{ form.name.label }}
        {% if form.name.field.required %}*{% endif %}
      </label>
      {{ form.name }}
      {% if form.name.errors %}
        <span class="error">{{ form.name.errors.0 }}</span>
      {% endif %}
      {% if form.name.help_text %}
        <small class="form-text">{{ form.name.help_text }}</small>
      {% endif %}
    </div>

    <div class="form-field">
      <label for="{{ form.name_en.id_for_label }}">
        {{ form.name_en.label }}
        {% if form.name_en.field.required %}*{% endif %}
      </label>
      {{ form.name_en }}
      {% if form.name_en.errors %}
        <span class="error">{{ form.name_en.errors.0 }}</span>
      {% endif %}
      {% if form.name_en.help_text %}
        <small class="form-text">{{ form.name_en.help_text }}</small>
      {% endif %}
    </div>
  </div>

  <div class="form-row">
    <div class="form-field full-width">
      <label for="{{ form.description.id_for_label }}">
        {{ form.description.label }}
        {% if form.description.field.required %}*{% endif %}
      </label>
      {{ form.description }}
      {% if form.description.errors %}
        <span class="error">{{ form.description.errors.0 }}</span>
      {% endif %}
      {% if form.description.help_text %}
        <small class="form-text">{{ form.description.help_text }}</small>
      {% endif %}
    </div>
  </div>

  <div class="form-row">
    <div class="form-field full-width">
      <label for="{{ form.notes.id_for_label }}">
        {{ form.notes.label }}
        {% if form.notes.field.required %}*{% endif %}
      </label>
      {{ form.notes }}
      {% if form.notes.errors %}
        <span class="error">{{ form.notes.errors.0 }}</span>
      {% endif %}
      {% if form.notes.help_text %}
        <small class="form-text">{{ form.notes.help_text }}</small>
      {% endif %}
    </div>
  </div>

  <div class="form-row">
    <div class="form-field">
      <label for="{{ form.sort_order.id_for_label }}">
        {{ form.sort_order.label }}
        {% if form.sort_order.field.required %}*{% endif %}
      </label>
      {{ form.sort_order }}
      {% if form.sort_order.errors %}
        <span class="error">{{ form.sort_order.errors.0 }}</span>
      {% endif %}
      {% if form.sort_order.help_text %}
        <small class="form-text">{{ form.sort_order.help_text }}</small>
      {% endif %}
    </div>

    <div class="form-field">
      <label for="{{ form.is_enabled.id_for_label }}">
        {{ form.is_enabled.label }}
        {% if form.is_enabled.field.required %}*{% endif %}
      </label>
      {{ form.is_enabled }}
      {% if form.is_enabled.errors %}
        <span class="error">{{ form.is_enabled.errors.0 }}</span>
      {% endif %}
      {% if form.is_enabled.help_text %}
        <small class="form-text">{{ form.is_enabled.help_text }}</small>
      {% endif %}
    </div>
  </div>

  <div class="form-row">
    <div class="form-field">
      <label for="{{ form.personnel.id_for_label }}">
        {{ form.personnel.label }}
        {% if form.personnel.field.required %}*{% endif %}
      </label>
      {{ form.personnel }}
      {% if form.personnel.errors %}
        <span class="error">{{ form.personnel.errors.0 }}</span>
      {% endif %}
      {% if form.personnel.help_text %}
        <small class="form-text">{{ form.personnel.help_text }}</small>
      {% endif %}
      <small class="form-text">{% trans "برای انتخاب چند مورد، کلید Ctrl (یا Cmd در Mac) را نگه دارید و کلیک کنید" %}</small>
    </div>

    <div class="form-field">
      <label for="{{ form.machines.id_for_label }}">
        {{ form.machines.label }}
        {% if form.machines.field.required %}*{% endif %}
      </label>
      {{ form.machines }}
      {% if form.machines.errors %}
        <span class="error">{{ form.machines.errors.0 }}</span>
      {% endif %}
      {% if form.machines.help_text %}
        <small class="form-text">{{ form.machines.help_text }}</small>
      {% endif %}
      <small class="form-text">{% trans "برای انتخاب چند مورد، کلید Ctrl (یا Cmd در Mac) را نگه دارید و کلیک کنید" %}</small>
    </div>
  </div>
</div>
{% endblock %}
